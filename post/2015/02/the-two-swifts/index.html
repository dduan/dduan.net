<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>The Two Swifts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <link href="" rel="alternate" type="application/rss+xml" title="dduan.net" />
  <link href="http://localhost:1313/css/bootstrap.min.css" rel="stylesheet">
  <link href="http://localhost:1313/css/hc.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  
    
    </head>
    <body>
<div class="nav-toggle"><i class="fa fa-bars fa-2x"></i> Herring Cove </div>
      <div id = "wrapper">


<div class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <p class="navbar-brand">dduan.net</p>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
					
					
					<li><a href="http://localhost:1313/post/">Posts </a></li>
					
					<li><a href="http://localhost:1313/about/">About </a></li>
					
          </ul>
        </div>
      </div>
    </div>



       
       <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
					<img src="" />
          <li class="sidebar-brand"><a href="http://localhost:1313/"><h1 class="brand">dduan.net</h1></a><h3></h3></li>
          <hr />
					
						<li><a href="http://localhost:1313/about/">About </a></li>
					
						<li><a href="http://localhost:1313/post/">Posts </a></li>
					
          <hr />
          <div id="social-wrapper">
           <li> <a href="https://twitter.com/daniel_duan"><i class="fa fa-twitter-square"></i> Twitter</a></li>
           <li> <a href="https://github.com/dduan"><i class="fa fa-github-square"></i> Github</a> </li>
           <li> <a href="https://itunes.apple.com/us/artist/nan-duan/id619307372"><i class="fa fa-apple"></i> AppStore</a> </li>
         </div>
       </ul>
     </div>



     <div class="container">


  <div id="article">
   <div class="article-title">The Two Swifts</div>
   <div class="meta">
   <small>&nbsp;<i class="fa fa-calendar-o"></i> 2015-02-10</small>
    <ul id="tags">
        <i class="fa fa-tags"></i> 
      
    </ul>
   <hr/>
   </div>
   <div class="post">
     

<p>onpatient 2.0 went live in App Store on September 27th 2014, 10 days after iOS
8 was officially released. For the next few months, it was featured for
HealthKit intergration on the App Store front page. In conversations during
that period, people would ask me &ldquo;what was the experience like?&rdquo; What they
referred to, of course, was the fact that I wrote that version in 100% Swift.</p>

<p>I have a very different answer to that question now compared to the standard
one I gave back then. I hope to explain to you, my dear readers, how my view
on Swift has evolved since the beginning.</p>

<h2 id="swift-the-puller:1d566e79abbacc02a98cc1e566eace10">Swift The Puller</h2>

<blockquote>
<p>After you get used to a few nuances, it&rsquo;s Cocoa Touch after all.</p>
</blockquote>

<p>People kind of went &ldquo;huh&rdquo;, and didn&rsquo;t know how to respond to this answer, at
the time when iOS 8 was just out. I think they were expecting horror stories.</p>

<p>Well, they would have been right. One day <code>UIStoryboardSegue</code> would have an
<code>identifier</code> of type <code>String!</code>, the next day it would become a <code>String?</code>. And
the incomprehensible error message from Xcode made sure you woundn&rsquo;t figure it
out with ease. This kind of changes would happen to your entire codebase each
time a beta Xcode was released. Compunding with these implementation bugs,
API changes and poor tooling, was the fact that you had to learn a new
programming lanauge. If you and your family&rsquo;s livelihood depends direclty on
the software you put out, avoiding that whole situation was (and is) the
correct <em>business choice</em>.</p>

<p>To me, however, all that was just plain <em>fun</em>. Within about a week, the
strangeness of having <code>optional</code>s went away. It&rsquo;s kind of nice to have the
compiler bark at you when something was unintialized. My old friends never
left: ARC, auto-synthesized properties, blocks, protocols…</p>

<p>As for the beta changes, they were only as often as the Xcode releases. Reading
the release notes and a few careful inspections of the compile errors usually
was enough to help you &ldquo;fix&rdquo; everything.</p>

<p>A couple weeks in, Swift <em>disappeared</em>. I was just writing a brand new Cocoa
Touch app. My attention was on architecture, user experience and patterns that
works well with varies iOS APIs, business logic … We submitted the app on the
first day it became possible.</p>

<p>Turning back the clock to the ancient days when the world was <a href="http://arstechnica.com/apple/2010/06/copland-2010-revisited/">blissfully
unaware</a> of Swift&rsquo;s existence. If one wanted to become a Mac
or iOS developer, he/she would have gotten the advice along the lines of
&ldquo;learning the Objective-C is easy, knowing the system API is harder&rdquo;. Well,
that hasn&rsquo;t changed post-Swift. My experience building software with
UIKit/Cocoa Touch applied 100% in building the 100% Swift App.</p>

<p>Things did change when I went back to Objective-C after a couple months of
writing Swift exclusively, however. The lack of type inference made typing
cumbersome. The worst part is the missing concept of optionality on data
types. <em>Every</em> object suddenly were <code>optional</code> in my eyes. I exprienced a
sense of insecurity, as if I was driving in a foregn country with simular but
significantly less respected traffic rules.</p>

<h2 id="swift-the-pusher:1d566e79abbacc02a98cc1e566eace10">Swift The Pusher</h2>

<blockquote>
<p>I&rsquo;m humbled and excited by the future because of what it&rsquo;s teaching me.</p>
</blockquote>

<p>By the time I shipped a few major feature updates in Swift, something had
been lurking on the back of my mind: I had left a whole bunch of its features
untouched, yet I seemed to have worked with it to some degree of success. What
gives? The emerging Swift community has shown me the way since. Observe:</p>

<p>Exhibit A, the following Swift function is frequently found in
<a href="https://github.com/typelift/Swiftz/blob/master/Swiftz/Curry.swift">libraries</a> and <a href="http://www.objc.io/books/">books</a>, if not shipping code:</p>

<pre><code>func curry&lt;A, B, C&gt;(f: (A, B) -&gt; C) -&gt; A -&gt; B -&gt; C {
    return { x in { y in f(x,y)  }  }
}
</code></pre>

<p>Currying is a simple concept. The fact that you can do it in Swift is nothing
to write home about.</p>

<p>What&rsquo;s striking to me, is how <em>succinct</em>, or, dare I say, <em>elegant</em> this can
be expressed in Swift. In this short piece of code, you see generics, higher
order functions, closures, type inference expressed on top of a strong type
system…to form this basic construct found in functional programming. It&rsquo;s as
if the language has been designed to enable it…</p>

<p>which leads us to exhibit B:</p>

<p>In a job <a href="http://clang-developers.42468.n3.nabble.com/ADVERTISEMENT-open-positions-in-Apple-s-Swift-compiler-team-td4039949.html">posting</a> for Apple&rsquo;s Swift compiler team, the following
qualities are listed for Swift core library engineers (emphasis mine):</p>

<blockquote>
<ul>
<li>A passion for making a difference in the lives of other programmers</li>
<li>A deep understanding of generic programming principles</li>
<li><strong>Experience with functional programming languages and/or idioms</strong></li>
<li>Experience bridging languages, especially bridging dynamic languages with static ones</li>
<li>Exposure to innovative and/or comprehensive library designs</li>
</ul>
</blockquote>

<p>So in the Swift team&rsquo;s mind, an ideal &ldquo;customer&rdquo; of the language, the standard
library authors being the most intimate ones, should be &ldquo;exploiting&rdquo; the
language features to practice functional idioms. This detail stuck and
ultimately inspired me to pick up <a href="http://www.objc.io/books/">Functional Programming in Swift</a>.
The evidence piled on: <a href="http://www.objc.io/issue-16/">articles</a>, <a href="http://2014.funswiftconf.com">talks</a>
and <a href="https://medium.com/swift-programming/2-functional-swift-c98be9533183">Blog</a> <a href="http://ijoshsmith.com/2014/11/30/getting-into-functional-programming-with-swift/">posts</a>. I realized that the
language I&rsquo;ve been using for several month has introduced the possiblity to do
what the Haskell/Ocaml/Scala/F# folks do all day long (I won&rsquo;t discuss much
functional programming in this post). The introduction has been gentle and
could be safely ignored, but things like
<a href="https://github.com/jeffh/Fox">automatically generated tests</a> and parser combinators got me
hooked.</p>

<p>I believe anyone who write code can benefit from knowing and appreciating the
funtional paradigm. What&rsquo;s unique about Swift is that it&rsquo;s presented on
Apple&rsquo;s huge developer eco-system. That means a huge part of our industry will
benefit as Swift spread futher and futher. In that sense, it really stands out
among all the other languages that enables functional programming.</p>

 </div>
<a href="https://news.ycombinator.com/submit" class="hn-button" data-style="twitter">Vote on Hacker News</a>
<script type="text/javascript">var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>

 <a href="https://twitter.com/share" class="twitter-share-button " data-size="small" data-count="none">Tweet</a>
 <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
   </div>
 <ul class="pager">
      &nbsp;<li class="previous"><a href="http://localhost:1313/post/2015/04/when-default-parameter-values-fall-short-in-swift/"> When Default Parameter Values Fall Short In Swift</a></li>
      &nbsp;<li class="next"><a href="http://localhost:1313/post/2015/02/my-xcode-62-and-63-prediction/"> My Xcode 6.2 And 6.3 Prediction</a></li>
</ul>


    </ul>
    </div>
    <footer>

    </footer>
 
    <script src="/js/jquery-1.10.2.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script type="text/javascript" src="/js/hc.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-59501714-1', 'auto');
      ga('send', 'pageview');

    </script>
</body>

</html>

