<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Daniel Duan - Github</title>
        <link>https://duan.ca/tag/Github/</link>
        <atom:link href="https://duan.ca/tag/Github/index.xml" rel="self" type="application/rss+xml" />
        
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
            <item>
                <title>Deploy Jekyll Site To Github With Make</title>
                <description>&lt;p&gt;At risks of being too meta, I want to talk about how this post is going to go
from my computer to a repository on Github on both the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt;
branch. The former contains the file I’m typing, and the latter an updated
HTML site generated by Jekyll.&lt;/p&gt;

&lt;p&gt;Here’s how: I type &lt;code class=&quot;highlighter-rouge&quot;&gt;make deploy&lt;/code&gt; once I commit this file in my local
repository.&lt;/p&gt;

&lt;p&gt;I spent a day to set up a Jekyll site. The last part involves deploying it to
Github&lt;a class=&quot;backlink&quot; rel=&quot;canonical&quot; title=&quot;From duan.ca&quot; href=https://duan.ca/2016/05/15/deploy-jekyll-to-github/&gt;,&lt;/a&gt; my preferred way to host a static site. There are a lot of posts and
scripts on how to achieve it. And Github seems to have an “afficial” support
for Jekyll site that disables plugin scripts (understandably so).&lt;/p&gt;

&lt;p&gt;But having worked with git and make for all these years made me immune to all
the fanciness the Internet tries to sell.&lt;/p&gt;

&lt;p&gt;Here’s my script for deploying a Jekyll project to Github pages:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DEPLOY_PATH=/tmp/jekyll_deploy
build:
	jekyll build

deploy:
	git checkout -f gh-pages
	git clean -d -x -f
	git pull
	git checkout master
	jekyll build
	rm -rf ${DEPLOY_PATH}
	mkdir ${DEPLOY_PATH}
	cp -R .git ${DEPLOY_PATH}
	cd ${DEPLOY_PATH}; git checkout gh-pages; git clean -d -x -f
	cp -R _site/* ${DEPLOY_PATH}
	cd ${DEPLOY_PATH}; git add .; git commit -m &quot;`curl whatthecommit.com/index.txt`&quot;
	cd ${DEPLOY_PATH}; git push -f origin gh-pages
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Drop it into root of your Jekyll project, commit all changes (including the
&lt;code class=&quot;highlighter-rouge&quot;&gt;Makefile&lt;/code&gt;). And type &lt;code class=&quot;highlighter-rouge&quot;&gt;make deploy&lt;/code&gt;. BOOM, done.&lt;/p&gt;

&lt;p&gt;There are a couple of assumptions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;You build the site in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; folder&lt;/li&gt;
  &lt;li&gt;You store Jekyll source on &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; and have the &lt;code class=&quot;highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch up.&lt;/li&gt;
  &lt;li&gt;You can build the site by running &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;You don’t care about commit message on the deploy branch.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I like it better than other methods because it does not require installing
additional software/scripts and there’s no restriction on plugins.&lt;/p&gt;
</description>
                <pubDate>Sun, 15 May 2016 01:00:00 -0700</pubDate>
                
                <link>https://duan.ca/2016/05/15/deploy-jekyll-to-github/</link>
                
                <guid isPermaLink="true">https://duan.ca/2016/05/15/deploy-jekyll-to-github/</guid>
            </item>
            
        
            
        
            
        
            
        
            
        
            
        
    </channel>
</rss>
